<!-- (전체 HTML 유지, 달력 부분만 집중 수정된 코드) -->

<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>용인 테니스 예약 현황</title>

<style>
/* 기존 스타일 생략 … 위쪽은 그대로 두고 아래만 보면 됨 */

/* -------------------------
   ⬇⬇⬇ 새 달력 UI 스타일
--------------------------*/

/* Bottom Sheet */
.calendar-sheet {
    position: fixed;
    bottom: -420px;
    left: 0;
    right: 0;
    background: var(--card);
    border-radius: 22px 22px 0 0;
    padding: 20px 20px 30px 20px;
    box-shadow: 0 -4px 25px rgba(0,0,0,0.3);
    transition: 0.35s ease;
    z-index: 9999;
}

.calendar-sheet.show {
    bottom: 0;
}

/* 상단 핸들 */
.calendar-handle {
    width: 40px;
    height: 5px;
    background: rgba(100,100,100,0.25);
    border-radius: 3px;
    margin: 0 auto 14px auto;
}

/* 월 선택 */
.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.month-btn {
    font-size: 20px;
    padding: 4px 12px;
    border-radius: 10px;
    background: rgba(255,255,255,0.06);
    cursor: pointer;
}

.calendar-title {
    font-weight: 700;
    font-size: 17px;
}

/* 요일 */
.weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-size: 13px;
    margin-bottom: 6px;
    color: var(--sub);
}

/* 날짜 그리드 */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 6px;
}

/* 날짜 아이템 */
.cal-day {
    padding: 10px 0;
    border-radius: 12px;
    font-size: 14px;
    text-align: center;
    color: var(--text);
    background: rgba(255,255,255,0.04);
    transition: 0.15s ease;
    cursor: pointer;
}

.cal-day:hover {
    background: var(--accent);
    color: white;
}

.cal-day.selected {
    background: var(--accent);
    color: white;
    font-weight: 700;
}

/* 닫기 버튼 */
.calendar-close {
    margin-top: 18px;
    width: 100%;
    padding: 12px;
    background: var(--accent);
    border-radius: 12px;
    text-align: center;
    color: white;
    font-weight: 700;
    font-size: 15px;
    cursor: pointer;
}
</style>
</head>


<body>

<!-- 날짜 선택 버튼 -->
<div class="filter-block">
    <button id="open-calendar"
        style="width:100%; padding:14px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);
               background:var(--card); color:var(--text); font-size:15px; font-weight:600;">
        날짜 선택하기
    </button>
</div>


<!-- Bottom Sheet Calendar -->
<div id="calendar-sheet" class="calendar-sheet">

    <div class="calendar-handle"></div>

    <div class="calendar-header">
        <div id="prev-month" class="month-btn">◀</div>
        <div id="month-title" class="calendar-title">2월 2025</div>
        <div id="next-month" class="month-btn">▶</div>
    </div>

    <div class="weekdays">
        <div>일</div><div>월</div><div>화</div>
        <div>수</div><div>목</div><div>금</div><div>토</div>
    </div>

    <div id="calendar-grid" class="calendar-grid"></div>

    <div id="close-calendar" class="calendar-close">닫기</div>

</div>




<script>
/* -------------------------------
   날짜 선택 로직 고급 버전
-------------------------------- */

let selectedDate = null;

// 오늘 기준 월
let current = new Date();

/* --------- 월 렌더링 함수 ---------- */
function renderCalendar() {
    const year = current.getFullYear();
    const month = current.getMonth(); // 0부터 시작

    // 타이틀 설정
    document.getElementById("month-title").textContent = `${month+1}월 ${year}`;

    // 1일의 요일
    const firstDay = new Date(year, month, 1).getDay();
    const last = new Date(year, month+1, 0).getDate();

    const grid = document.getElementById("calendar-grid");
    grid.innerHTML = "";

    // 앞쪽 공백 채우기
    for (let i=0; i<firstDay; i++) {
        grid.innerHTML += `<div></div>`;
    }

    // 날짜 채우기
    for (let d=1; d<=last; d++) {
        const key = `${year}${String(month+1).padStart(2,'0')}${String(d).padStart(2,'0')}`;

        grid.innerHTML += `
            <div class="cal-day ${selectedDate === key ? 'selected' : ''}"
                 data-date="${key}">${d}</div>
        `;
    }

    // 날짜 클릭 이벤트
    document.querySelectorAll(".cal-day").forEach(day => {
        day.addEventListener("click", () => {
            selectedDate = day.dataset.date;
            hideCalendar();
            render(); // 화면 리렌더
        });
    });
}


/* -------- 월 이동 -------- */
document.getElementById("prev-month").onclick = () => {
    current.setMonth(current.getMonth() - 1);
    renderCalendar();
};
document.getElementById("next-month").onclick = () => {
    current.setMonth(current.getMonth() + 1);
    renderCalendar();
};


/* -------- Bottom Sheet Show/Hide -------- */
function showCalendar() {
    document.getElementById("calendar-sheet").classList.add("show");
    renderCalendar();
}

function hideCalendar() {
    document.getElementById("calendar-sheet").classList.remove("show");
}

document.getElementById("open-calendar").onclick = showCalendar;
document.getElementById("close-calendar").onclick = hideCalendar;

</script>

</body>
</html>
